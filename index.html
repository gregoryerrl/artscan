<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <meta name="theme-color" content="#2c3e50" />
    <title>RS Portraits</title>
    <link rel="stylesheet" href="routes/homepage.css" />
    <link rel="stylesheet" href="routes/scan/styles.css" />
    <link rel="stylesheet" href="routes/models/styles.css" />
</head>
<body>
    <div id="app"></div>

    <script src="router.js"></script>
    <script src="routes/homepage.js"></script>
    <script src="routes/scan/controller.js"></script>
    <script src="routes/scan/result.js"></script>
    <script src="routes/models/controller.js"></script>
    <script defer src="lib/face-api.min.js"></script>
    <script async src="lib/opencv.js"></script>

    <script>
        Router.addRoute('/', {
            template: 'routes/homepage.html',
            onEnter: () => window.initGalleryPage?.(),
            onLeave: () => window.cleanupGalleryPage?.()
        });

        Router.addRoute('/scan', {
            template: 'routes/scan/scanner.html',
            onEnter: () => window.initScannerPage?.(),
            onLeave: () => window.cleanupScannerPage?.()
        });

        Router.addRoute('/scan/result', {
            template: 'routes/scan/result.html',
            onEnter: (params, state) => window.initResultPage?.(state),
            onLeave: () => window.cleanupResultPage?.()
        });

        Router.addRoute('/models', {
            template: 'routes/models/models.html',
            onEnter: () => window.initModelsPage?.(),
            onLeave: () => window.cleanupModelsPage?.()
        });

        Router.init();
    </script>
</body>
</html>
